{"version":3,"sources":["../../src/controllers/props.controller.js"],"names":["createProp","req","res","body","name","forCar","stock","precio","status","newProp","Props","save","propSaved","json","message","console","log","messsage","getAll","find","props","getAccesoriosActivos","activos","getAccesorioById","propsId","params","findById","getAccesorioByAuto","modelo","foundProp","updatePropById","findByIdAndUpdate","new","updateProp","deletePropById","findByIdAndDelete","deletedProp"],"mappings":"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","sourcesContent":["import Props from '../models/Props'\r\n\r\nexport const createProp = async(req, res) => {\r\n    try {\r\n        const { name, forCar, stock, precio, status } = req.body;\r\n        const newProp = new Props({ name, forCar, stock, precio, status });\r\n\r\n        const propSaved = await newProp.save();\r\n        if (propSaved) {\r\n            res.json({ message: 'Accesorio creado con éxito' });\r\n        }\r\n\r\n    } catch (e) {\r\n        console.log(e);\r\n        res.status(404).json({ messsage: 'No se puede ejecutar la consulta' });\r\n    }\r\n}\r\n\r\nexport const getAll = async(req, res) => {\r\n    try {\r\n        const props = await Props.find();\r\n        if (props) {\r\n            res.json(props);\r\n        } else {\r\n            res.status(201).json({ messsage: 'No existen campañas a mostrar' });\r\n        }\r\n    } catch (e) {\r\n        console.log(e);\r\n        res.status(403).json({ messsage: 'No se puede ejecutar la consulta' });\r\n    }\r\n}\r\n\r\nexport const getAccesoriosActivos = async(req, res) => {\r\n    try {\r\n        const activos = await Props.find({ status: 'Activo' });\r\n        if (activos) {\r\n            res.json(activos);\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        res.status(403).json({ message: 'No Autorizado' })\r\n    }\r\n}\r\n\r\nexport const getAccesorioById = async(req, res) => {\r\n    try {\r\n        const { propsId } = req.params;\r\n        const props = await Props.findById(propsId);\r\n        if (props) {\r\n            res.json(props);\r\n        } else {\r\n            res.status(201).json({ messsage: 'No existe campaña a mostrar' });\r\n        }\r\n    } catch (e) {\r\n        console.log(e);\r\n        res.status(403).json({ messsage: 'No se puede ejecutar la consulta' });\r\n    }\r\n}\r\n\r\nexport const getAccesorioByAuto = async(req, res) => {\r\n    try {\r\n        const { modelo } = req.body;\r\n        const foundProp = await Props.find({ forCar: modelo });\r\n\r\n        if (foundProp) {\r\n            res.json(foundProp);\r\n        } else {\r\n            res.status(201).json({ message: 'No existe el accesorio' });\r\n        }\r\n    } catch (e) {\r\n        console.log(e);\r\n        res.status(403).json({ message: 'Error filtrando Campañas' });\r\n    }\r\n}\r\n\r\nexport const updatePropById = async(req, res) => {\r\n    try {\r\n        const { propsId } = req.params;\r\n\r\n        const { name, forCar, stock, precio, status } = req.body;\r\n\r\n        //const foundAuto = await Vehicle.find({ cod_tdp: { $in: auto } });\r\n\r\n        const updateProp = await Props.findByIdAndUpdate(propsId, { name, forCar, stock, precio, status }, { new: true });\r\n        if (updateProp) {\r\n            res.json({ message: 'Accesorio actualizado con éxito' });\r\n        } else {\r\n            return res.status(201).json({ messsage: 'No existe campaña a actualizar' });\r\n        }\r\n    } catch (e) {\r\n        console.log(e);\r\n        res.status(403).json({ messsage: 'No se puede ejecutar la consulta' });\r\n    }\r\n}\r\n\r\nexport const deletePropById = async(req, res) => {\r\n    try {\r\n        const { propsId } = req.params;\r\n        const deletedProp = await Props.findByIdAndDelete(propsId);\r\n        if (deletedProp) {\r\n            res.json({ message: 'Accesorio eliminado con éxito' });\r\n        } else {\r\n            res.status(201).json({ messsage: 'Accesorio no Existe' });\r\n        }\r\n    } catch (e) {\r\n        console.log(e);\r\n        res.status(403).json({ messsage: 'No se puede ejecutar la consulta' });\r\n    }\r\n}"],"file":"props.controller.js"}