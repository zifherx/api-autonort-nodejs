{"version":3,"file":"marcaT.controller.js","names":["getAll","req","res","MarcaTasaciones","find","sort","name","query","length","json","total","all","status","message","console","log","getMarcaById","marcaId","params","findById","one","getMarcaActiva","estado","total_active","all_active","createMarca","body","avatar","file","obj","undefined","location","save","updateMarcaById","findByIdAndUpdate","deleteMarcaById","findByIdAndDelete"],"sources":["../../src/controllers/marcaT.controller.js"],"sourcesContent":["import MarcaTasaciones from \"../models/MarcaTasaciones\";\r\n\r\nexport const getAll = async(req, res) => {\r\n    try {\r\n        const query = await MarcaTasaciones.find().sort({ name: 'asc' });\r\n        if (query.length > 0) {\r\n            res.json({total: query.length, all: query});\r\n        } else {\r\n            return res.status(404).json({ message: 'No existen Marcas' })\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(503).json({ message: err.message })\r\n    }\r\n}\r\n\r\nexport const getMarcaById = async(req, res) => {\r\n    const { marcaId } = req.params;\r\n    try {\r\n        const query = await MarcaTasaciones.findById(marcaId);\r\n        if (query) {\r\n            res.json({one: query});\r\n        } else {\r\n            return res.status(404).json({ message: 'No existe la Marca' })\r\n        }\r\n    } catch (err) {\r\n        console.log(err)\r\n        return res.status(503).json({ message: err.message })\r\n    }\r\n}\r\n\r\nexport const getMarcaActiva = async(req, res) => {\r\n    try {\r\n        const query = await MarcaTasaciones.find({ estado: true }).sort({ name: 1 });\r\n        if (query.length > 0) {\r\n            res.json({ total_active: query.length, all_active: query });\r\n        } else {\r\n            return res.status(404).json({ message: 'No existen Marcas activas' })\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(503).json({ message: err.message });\r\n    }\r\n}\r\n\r\nexport const createMarca = async(req, res) => {\r\n    const { name, estado } = req.body;\r\n    const avatar = req.file;\r\n\r\n    try {\r\n        let obj = null;\r\n        if (avatar == undefined || avatar == null) {\r\n            obj = new MarcaTasaciones({\r\n                name,\r\n                estado\r\n            });\r\n        } else {\r\n            obj = new MarcaTasaciones({\r\n                avatar: avatar.location,\r\n                name,\r\n                estado\r\n            });\r\n        }\r\n\r\n        const query = await obj.save();\r\n\r\n        if (query) {\r\n            res.json({ message: 'Marca creada con éxito' })\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(503).json({ message: err.message });\r\n    }\r\n}\r\n\r\nexport const updateMarcaById = async(req, res) => {\r\n    const { name, estado } = req.body;\r\n    const { marcaId } = req.params;\r\n    const avatar = req.file;\r\n    try {\r\n        let query = null;\r\n        if (avatar == undefined || avatar == null) {\r\n            query = await MarcaTasaciones.findByIdAndUpdate(marcaId, {\r\n                name,\r\n                estado\r\n            });\r\n        } else {\r\n            query = await MarcaTasaciones.findByIdAndUpdate(marcaId, {\r\n                avatar: avatar.location,\r\n                name,\r\n                estado\r\n            });\r\n        }\r\n\r\n        if (query) {\r\n            return res.json({ message: 'Marca actualizada con éxito' });\r\n        } else {\r\n            res.status(404).json({ message: 'No existe Marca a eliminar' });\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(503).json({ message: err.message })\r\n    }\r\n}\r\n\r\nexport const deleteMarcaById = async(req, res) => {\r\n    const { marcaId } = req.params;\r\n    try {\r\n        const query = await MarcaTasaciones.findByIdAndDelete(marcaId);\r\n        if (query) {\r\n            res.json({ message: 'Marca eliminada con éxito' });\r\n        } else {\r\n            return res.status(404).json({ message: 'No existe Marca a eliminar' });\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(503).json({ message: err.message })\r\n    }\r\n}"],"mappings":"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"}