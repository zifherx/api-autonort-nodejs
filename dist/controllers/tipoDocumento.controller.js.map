{"version":3,"file":"tipoDocumento.controller.js","names":["documentoController","getAll","req","res","TipoDocumento","find","sort","value","query","length","json","total","all","status","message","console","log","getOneById","tipoId","params","findById","one","getAllByActive","estado","total_active","all_active","createOne","body","cod_interno","name","abreviatura","longitud","nuevo","save","updateOneById","findByIdAndUpdate","deleteTipoDocumento","findByIdAndDelete"],"sources":["../../src/controllers/tipoDocumento.controller.js"],"sourcesContent":["import TipoDocumento from '../models/TipoDocumento'\r\n\r\nconst documentoController = {};\r\n\r\ndocumentoController.getAll = async(req, res) => {\r\n    try {\r\n        const query = await TipoDocumento.find().sort({ value: 1 });\r\n        if (query.length > 0) {\r\n            res.json({total: query.length, all: query});\r\n        } else {\r\n            return res.status(404).json({ message: 'No existen documentos de dentidad' });\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(503).json({ message: err.message });\r\n    }\r\n}\r\n\r\ndocumentoController.getOneById = async(req, res) => {\r\n    const { tipoId } = req.params\r\n    try {\r\n        const query = await TipoDocumento.findById(tipoId);\r\n        if (query) {\r\n            res.json({one: query});\r\n        } else {\r\n            return res.status(404).json({ message: 'No existe el documento de identidad' });\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(503).json({ message: err.message });\r\n    }\r\n}\r\n\r\ndocumentoController.getAllByActive = async(req, res) => {\r\n    try {\r\n        const query = await TipoDocumento.find({ estado: true }).sort({ value: 1 });\r\n        if (query.length > 0) {\r\n            res.json({total_active: query.length, all_active: query});\r\n        } else {\r\n            return res.status(404).json({ message: 'No existen documentos de identidad activos' });\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(503).json({ message: err.message });\r\n    }\r\n}\r\n\r\ndocumentoController.createOne = async(req, res) => {\r\n    const { cod_interno,name,abreviatura, longitud, estado } = req.body;\r\n    try {\r\n        const nuevo = new TipoDocumento({ cod_interno,name,abreviatura, longitud, estado });\r\n        const query = await nuevo.save()\r\n        if (query) {\r\n            res.json({ message: 'Documento de identidad creado con éxito' });\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(503).json({ message: err.message });\r\n    }\r\n}\r\n\r\ndocumentoController.updateOneById = async(req, res) => {\r\n    const { name,abreviatura,longitud, estado } = req.body;\r\n    const { tipoId } = req.params;\r\n    try {\r\n        const query = await TipoDocumento.findByIdAndUpdate(tipoId, { name,abreviatura,longitud, estado });\r\n        if (query) {\r\n            res.json({ message: 'Documento de identidad actualizado con éxito' });\r\n        } else {\r\n            return res.status(404).json({ message: 'No existe documento de identidad a actualizar' });\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(503).json({ message: err.message })\r\n    }\r\n}\r\n\r\ndocumentoController.deleteTipoDocumento = async(req, res) => {\r\n    const { tipoId } = req.params;\r\n    try {\r\n        const query = await TipoDocumento.findByIdAndDelete(tipoId);\r\n        if (query) {\r\n            res.json({ message: 'Documento de identidad eliminado con éxito' });\r\n        } else {\r\n            return res.status(404).json({ message: 'No existe documento de identidad a eliminar' });\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(503).json({ message: err.message });\r\n    }\r\n}\r\n\r\nexport default documentoController;"],"mappings":"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"}