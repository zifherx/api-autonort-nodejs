{"version":3,"sources":["../../src/controllers/sucursal.controller.js"],"names":["getSucursales","req","res","Sucursal","find","query","length","send","status","json","message","getSucursalById","sucursalId","params","findById","getSucursalByActivo","createSucursal","body","name","objeto","save","updateSucursal","findByIdAndUpdate","new","deleteSucursal","findByIdAndDelete"],"mappings":"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","sourcesContent":["import Sucursal from \"../models/Sucursal\";\r\n\r\nexport const getSucursales = async(req, res) => {\r\n    try {\r\n        const query = await Sucursal.find();\r\n        if (query.length > 0) {\r\n            res.send(query);\r\n        } else {\r\n            res.status(404).json({ message: 'Vacío' })\r\n        }\r\n    } catch (err) {\r\n        res.status(403).json({ message: 'No Autorizado' })\r\n    }\r\n}\r\n\r\nexport const getSucursalById = async(req, res) => {\r\n    const { sucursalId } = req.params;\r\n    try {\r\n        const query = await Sucursal.findById(sucursalId);\r\n        if (query) {\r\n            res.send(query);\r\n        } else {\r\n            res.status(404).json({ message: 'No existe' })\r\n        }\r\n    } catch (err) {\r\n        res.status(403).json({ message: 'No Autorizado' })\r\n    }\r\n}\r\n\r\nexport const getSucursalByActivo = async(req, res) => {\r\n    try {\r\n        const query = await Sucursal.find({ status: \"Activo\" });\r\n        if (query) {\r\n            res.send(query);\r\n        } else {\r\n            res.status(404).json({ message: 'Vacío' })\r\n        }\r\n    } catch (err) {\r\n        //console.log(err);\r\n        res.status(403).json({ message: 'No Autorizado' });\r\n    }\r\n}\r\n\r\nexport const createSucursal = async(req, res) => {\r\n    const { name, status } = req.body;\r\n    try {\r\n        const objeto = new Sucursal({ name, status });\r\n\r\n        const query = await objeto.save();\r\n\r\n        if (query) {\r\n            res.json({ message: 'Sucursal creada con éxito' })\r\n        }\r\n    } catch (err) {\r\n        res.status(403).json({ message: 'No Autorizado' })\r\n    }\r\n}\r\n\r\nexport const updateSucursal = async(req, res) => {\r\n    const { name, status } = req.body;\r\n    const { sucursalId } = req.params;\r\n    try {\r\n\r\n        const query = await Sucursal.findByIdAndUpdate(sucursalId, { name, status }, { new: true });\r\n\r\n        if (query) {\r\n            res.json({ message: 'Sucursal actualizada con éxito' });\r\n        } else {\r\n            res.status(404).json({ message: 'No existe Sucursal' });\r\n        }\r\n    } catch (err) {\r\n        //console.log(e);\r\n        res.status(403).json({ message: 'No Autorizado' })\r\n    }\r\n}\r\n\r\nexport const deleteSucursal = async(req, res) => {\r\n    const { sucursalId } = req.params;\r\n    try {\r\n        const query = await Sucursal.findByIdAndDelete(sucursalId);\r\n\r\n        if (query) {\r\n            res.json({ message: 'Sucursal eliminada con éxito' });\r\n        } else {\r\n            res.status(404).json({ message: 'No existe Sucursal' });\r\n        }\r\n    } catch (err) {\r\n        //console.log(e);\r\n        res.status(403).json({ message: 'No Autorizado' })\r\n    }\r\n}"],"file":"sucursal.controller.js"}