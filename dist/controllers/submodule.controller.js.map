{"version":3,"file":"submodule.controller.js","names":["submoduleCtrl","getAll","req","res","Submodule","find","query","length","json","modules","status","message","console","log","getAllActives","total","createOne","body","submodule","description","icon","route","newObj","save"],"sources":["../../src/controllers/submodule.controller.js"],"sourcesContent":["import Submodule from '../models/Submodule';\r\n\r\nconst submoduleCtrl = {};\r\n\r\nsubmoduleCtrl.getAll = async(req,res) => {\r\n    try {\r\n        const query = await Submodule.find();\r\n\r\n        if(query.length > 0){\r\n            res.json({modules: query});\r\n        }else{\r\n            return res.status(404).json({message: 'No existen Submodulos'});\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(503).json({message: err.message});\r\n    }\r\n}\r\n\r\nsubmoduleCtrl.getAllActives = async(req,res) => {\r\n    try {\r\n        const query = await Submodule.find({status: true});\r\n\r\n        if(query.length > 0){\r\n            res.json({total: query.length, modules: query});\r\n        }else{\r\n            return res.status(404).json({message: 'No existen Submodulos activos'});\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(503).json({message: err.message});\r\n    }\r\n}\r\n\r\nsubmoduleCtrl.createOne = async (req, res) => {\r\n    const {submodule,description,icon,route,status} = req.body;\r\n    \r\n    try {\r\n            let newObj = new Submodule({submodule,description,icon,route,status});\r\n\r\n            const query = await newObj.save();\r\n\r\n            if(query){\r\n                res.json({ message: 'Submodulo creada con Ã©xito' });\r\n            }\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(503).json({message: err.message});\r\n    }\r\n}\r\n\r\nexport default submoduleCtrl;"],"mappings":"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"}