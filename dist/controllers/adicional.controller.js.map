{"version":3,"file":"adicional.controller.js","names":["createAdicional","req","res","body","name","descripcion","bono","startDate","endDate","status","empleado","objeto","Adicional","User","find","username","$in","foundEmployee","map","em","_id","save","query","json","message","console","log","getAll","sort","length","getOne","adicionalId","params","findById","getAdicionalActivos","updateAdicionalById","findByIdAndUpdate","deleteAdicionalById","findByIdAndDelete"],"sources":["../../src/controllers/adicional.controller.js"],"sourcesContent":["import Adicional from '../models/Adicional'\r\nimport User from '../models/User'\r\n\r\nexport const createAdicional = async(req, res) => {\r\n    const { name, descripcion, bono, startDate, endDate, status, empleado } = req.body;\r\n\r\n    try {\r\n\r\n        const objeto = new Adicional({ name, descripcion, bono, startDate, endDate, status });\r\n        const foundEmployee = await User.find({ username: { $in: empleado } });\r\n        objeto.empleado = foundEmployee.map(em => em._id);\r\n\r\n        const query = await objeto.save();\r\n\r\n        if (query) {\r\n            res.json({ message: 'Adicional creada con éxito' });\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        res.status(409).json({ message: err.message })\r\n    }\r\n}\r\n\r\nexport const getAll = async(req, res) => {\r\n    try {\r\n        const query = await Adicional.find().sort({ name: 'asc' });\r\n        if (query.length > 0) {\r\n            res.json(query);\r\n        } else {\r\n            return res.status(404).json({ message: 'No existen Adicionales' })\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        res.status(409).json({ message: err.message })\r\n    }\r\n}\r\n\r\nexport const getOne = async(req, res) => {\r\n    const { adicionalId } = req.params;\r\n    try {\r\n        const query = await Adicional.findById(adicionalId);\r\n        if (query) {\r\n            res.json(query);\r\n        } else {\r\n            return res.status(404).json({ message: 'No existe Adicional' })\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        res.status(409).json({ message: err.message })\r\n    }\r\n}\r\n\r\nexport const getAdicionalActivos = async(req, res) => {\r\n    try {\r\n        const query = await Adicional.find({ status: 'Activo' }).sort({ name: 'asc' });\r\n        if (query.length > 0) {\r\n            res.json(query);\r\n        } else {\r\n            res.status(404).json({ message: 'No existen Adicionales Activos' })\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        res.status(409).json({ message: err.message })\r\n    }\r\n}\r\n\r\n\r\nexport const updateAdicionalById = async(req, res) => {\r\n    const { adicionalId } = req.params;\r\n    const { name, descripcion, bono, startDate, endDate, status } = req.body;\r\n    try {\r\n\r\n        const query = await Adicional.findByIdAndUpdate(adicionalId, { name, descripcion, bono, startDate, endDate, status });\r\n        if (query) {\r\n            res.json({ message: 'Adicional actualizada con éxito' });\r\n        } else {\r\n            res.status(404).json({ message: 'No existe Adicional a actualizar' });\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        res.status(409).json({ message: err.message })\r\n    }\r\n}\r\n\r\nexport const deleteAdicionalById = async(req, res) => {\r\n    const { adicionalId } = req.params;\r\n    try {\r\n        const query = await Adicional.findByIdAndDelete(adicionalId);\r\n        if (query) {\r\n            res.json({ message: 'Adicional eliminada con éxito' });\r\n        } else {\r\n            return res.status(404).json({ message: 'No existe Eliminar a eliminar' });\r\n        }\r\n\r\n    } catch (err) {\r\n        console.log(err);\r\n        res.status(409).json({ message: err.message })\r\n    }\r\n}"],"mappings":"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"}