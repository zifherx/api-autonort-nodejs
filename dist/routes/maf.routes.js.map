{"version":3,"file":"maf.routes.js","names":["router","Router","get","mafCtrl","getOneById","post","authJwt","verifyToken","isVendedor","multer","array","createOne","getAllByEstado","getAllBySucursal","getAllByCreador","getAllSolicitudesAprobadas","patch","isExecutiveMaf","approveRequestStateById","reenrollRequestStateById","updateRequestStateById","delete","isAdmin","deleteOneById"],"sources":["../../src/routes/maf.routes.js"],"sourcesContent":["import { Router } from \"express\";\r\nimport mafCtrl from \"../controllers/maf.controller\";\r\nimport multer from \"../middlewares/multer\";\r\nimport { authJwt } from \"../middlewares\";\r\n\r\nconst router = Router();\r\n\r\nrouter.get(\"/:mafId\", mafCtrl.getOneById);\r\n\r\n// Create One\r\nrouter.post(\"/\", [authJwt.verifyToken, authJwt.isVendedor], multer.array(\"evidencias\", 50), mafCtrl.createOne);\r\n\r\n//Listas\r\nrouter.post(\"/by-estado\", mafCtrl.getAllByEstado);\r\nrouter.post(\"/by-sucursal\", mafCtrl.getAllBySucursal);\r\nrouter.post(\"/by-vendedor\", mafCtrl.getAllByCreador);\r\nrouter.post(\"/by-customer\", mafCtrl.getAllSolicitudesAprobadas);\r\n\r\nrouter.patch(\"/agree/:mafId\", [authJwt.verifyToken, authJwt.isExecutiveMaf], multer.array(\"docuAprobacion\", 2), mafCtrl.approveRequestStateById);\r\nrouter.patch(\"/reenroll/:mafId\", [authJwt.verifyToken, authJwt.isVendedor], multer.array(\"adicionales\", 30), mafCtrl.reenrollRequestStateById);\r\nrouter.patch(\"/update/:mafId\", [authJwt.verifyToken, authJwt.isExecutiveMaf], mafCtrl.updateRequestStateById);\r\n\r\n// Delete One By Id\r\nrouter.delete(\"/:mafId\", [authJwt.verifyToken, authJwt.isAdmin], mafCtrl.deleteOneById);\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AAEAD,MAAM,CAACE,GAAP,CAAW,SAAX,EAAsBC,YAAA,CAAQC,UAA9B,E,CAEA;;AACAJ,MAAM,CAACK,IAAP,CAAY,GAAZ,EAAiB,CAACC,oBAAA,CAAQC,WAAT,EAAsBD,oBAAA,CAAQE,UAA9B,CAAjB,EAA4DC,eAAA,CAAOC,KAAP,CAAa,YAAb,EAA2B,EAA3B,CAA5D,EAA4FP,YAAA,CAAQQ,SAApG,E,CAEA;;AACAX,MAAM,CAACK,IAAP,CAAY,YAAZ,EAA0BF,YAAA,CAAQS,cAAlC;AACAZ,MAAM,CAACK,IAAP,CAAY,cAAZ,EAA4BF,YAAA,CAAQU,gBAApC;AACAb,MAAM,CAACK,IAAP,CAAY,cAAZ,EAA4BF,YAAA,CAAQW,eAApC;AACAd,MAAM,CAACK,IAAP,CAAY,cAAZ,EAA4BF,YAAA,CAAQY,0BAApC;AAEAf,MAAM,CAACgB,KAAP,CAAa,eAAb,EAA8B,CAACV,oBAAA,CAAQC,WAAT,EAAsBD,oBAAA,CAAQW,cAA9B,CAA9B,EAA6ER,eAAA,CAAOC,KAAP,CAAa,gBAAb,EAA+B,CAA/B,CAA7E,EAAgHP,YAAA,CAAQe,uBAAxH;AACAlB,MAAM,CAACgB,KAAP,CAAa,kBAAb,EAAiC,CAACV,oBAAA,CAAQC,WAAT,EAAsBD,oBAAA,CAAQE,UAA9B,CAAjC,EAA4EC,eAAA,CAAOC,KAAP,CAAa,aAAb,EAA4B,EAA5B,CAA5E,EAA6GP,YAAA,CAAQgB,wBAArH;AACAnB,MAAM,CAACgB,KAAP,CAAa,gBAAb,EAA+B,CAACV,oBAAA,CAAQC,WAAT,EAAsBD,oBAAA,CAAQW,cAA9B,CAA/B,EAA8Ed,YAAA,CAAQiB,sBAAtF,E,CAEA;;AACApB,MAAM,CAACqB,MAAP,CAAc,SAAd,EAAyB,CAACf,oBAAA,CAAQC,WAAT,EAAsBD,oBAAA,CAAQgB,OAA9B,CAAzB,EAAiEnB,YAAA,CAAQoB,aAAzE;eAEevB,M"}