{"version":3,"file":"User.js","names":["userSchema","Schema","name","type","String","required","username","unique","email","phone","password","sucursal","sucursalE","Types","ObjectId","ref","sedeAcargo","direccion","pais","codigo_postal","about","roles","status","Boolean","default","estado","online","avatar","timestamps","versionKey","statics","encryptPassword","clave","bcrypt","genSalt","salt","hash","comparePassword","claveRecibida","compare","model"],"sources":["../../src/models/User.js"],"sourcesContent":["import { Schema, model } from 'mongoose'\r\nimport bcrypt from 'bcryptjs'\r\n\r\nconst userSchema = new Schema({\r\n    name: { type: String, required: true },\r\n    username: { type: String, unique: true },\r\n    email: { type: String },\r\n    phone: { type: String },\r\n    password: { type: String, required: true },\r\n    sucursal: { type: String },\r\n    sucursalE: { type: Schema.Types.ObjectId, ref: 'Sucursal'},\r\n    sedeAcargo: [ {type: Schema.Types.ObjectId, ref: 'Sucursal'}],\r\n    direccion: { type: String },\r\n    pais: { type: String },\r\n    codigo_postal: { type: String },\r\n    about: { type: String },\r\n    roles: [{ ref: \"Role\", type: Schema.Types.ObjectId }],\r\n    status: { type: Boolean, default: true },\r\n    estado: { type: Boolean, default: true },\r\n    online: { type: Boolean, default: false },\r\n    avatar: { type: String, default: 'https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg' }\r\n}, {\r\n    timestamps: true,\r\n    versionKey: false\r\n});\r\n\r\nuserSchema.statics.encryptPassword = async(clave) => {\r\n    const salt = await bcrypt.genSalt(10)\r\n    return await bcrypt.hash(clave, salt)\r\n}\r\n\r\nuserSchema.statics.comparePassword = async(clave, claveRecibida) => {\r\n    return await bcrypt.compare(clave, claveRecibida);\r\n}\r\n\r\nexport default model('User', userSchema);"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;+CAAA,oJ;;AAEA,IAAMA,UAAU,GAAG,IAAIC,gBAAJ,CAAW;EAC1BC,IAAI,EAAE;IAAEC,IAAI,EAAEC,MAAR;IAAgBC,QAAQ,EAAE;EAA1B,CADoB;EAE1BC,QAAQ,EAAE;IAAEH,IAAI,EAAEC,MAAR;IAAgBG,MAAM,EAAE;EAAxB,CAFgB;EAG1BC,KAAK,EAAE;IAAEL,IAAI,EAAEC;EAAR,CAHmB;EAI1BK,KAAK,EAAE;IAAEN,IAAI,EAAEC;EAAR,CAJmB;EAK1BM,QAAQ,EAAE;IAAEP,IAAI,EAAEC,MAAR;IAAgBC,QAAQ,EAAE;EAA1B,CALgB;EAM1BM,QAAQ,EAAE;IAAER,IAAI,EAAEC;EAAR,CANgB;EAO1BQ,SAAS,EAAE;IAAET,IAAI,EAAEF,gBAAA,CAAOY,KAAP,CAAaC,QAArB;IAA+BC,GAAG,EAAE;EAApC,CAPe;EAQ1BC,UAAU,EAAE,CAAE;IAACb,IAAI,EAAEF,gBAAA,CAAOY,KAAP,CAAaC,QAApB;IAA8BC,GAAG,EAAE;EAAnC,CAAF,CARc;EAS1BE,SAAS,EAAE;IAAEd,IAAI,EAAEC;EAAR,CATe;EAU1Bc,IAAI,EAAE;IAAEf,IAAI,EAAEC;EAAR,CAVoB;EAW1Be,aAAa,EAAE;IAAEhB,IAAI,EAAEC;EAAR,CAXW;EAY1BgB,KAAK,EAAE;IAAEjB,IAAI,EAAEC;EAAR,CAZmB;EAa1BiB,KAAK,EAAE,CAAC;IAAEN,GAAG,EAAE,MAAP;IAAeZ,IAAI,EAAEF,gBAAA,CAAOY,KAAP,CAAaC;EAAlC,CAAD,CAbmB;EAc1BQ,MAAM,EAAE;IAAEnB,IAAI,EAAEoB,OAAR;IAAiBC,OAAO,EAAE;EAA1B,CAdkB;EAe1BC,MAAM,EAAE;IAAEtB,IAAI,EAAEoB,OAAR;IAAiBC,OAAO,EAAE;EAA1B,CAfkB;EAgB1BE,MAAM,EAAE;IAAEvB,IAAI,EAAEoB,OAAR;IAAiBC,OAAO,EAAE;EAA1B,CAhBkB;EAiB1BG,MAAM,EAAE;IAAExB,IAAI,EAAEC,MAAR;IAAgBoB,OAAO,EAAE;EAAzB;AAjBkB,CAAX,EAkBhB;EACCI,UAAU,EAAE,IADb;EAECC,UAAU,EAAE;AAFb,CAlBgB,CAAnB;;AAuBA7B,UAAU,CAAC8B,OAAX,CAAmBC,eAAnB;EAAA,oFAAqC,iBAAMC,KAAN;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACdC,iBAAA,CAAOC,OAAP,CAAe,EAAf,CADc;;UAAA;YAC3BC,IAD2B;YAAA;YAAA,OAEpBF,iBAAA,CAAOG,IAAP,CAAYJ,KAAZ,EAAmBG,IAAnB,CAFoB;;UAAA;YAAA;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAArC;;EAAA;IAAA;EAAA;AAAA;;AAKAnC,UAAU,CAAC8B,OAAX,CAAmBO,eAAnB;EAAA,qFAAqC,kBAAML,KAAN,EAAaM,aAAb;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACpBL,iBAAA,CAAOM,OAAP,CAAeP,KAAf,EAAsBM,aAAtB,CADoB;;UAAA;YAAA;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAArC;;EAAA;IAAA;EAAA;AAAA;;eAIe,IAAAE,eAAA,EAAM,MAAN,EAAcxC,UAAd,C"}