{"version":3,"sources":["../../src/models/User.js"],"names":["userSchema","Schema","username","type","String","unique","email","password","required","roles","ref","Types","ObjectId","timestamps","versionKey","statics","encryptPassword","clave","bcrypt","genSalt","salt","hash","comparePassword","claveRecibida","compare"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;AAEA,IAAMA,UAAU,GAAG,IAAIC,gBAAJ,CAAW;AAC1BC,EAAAA,QAAQ,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,MAAM,EAAE;AAAxB,GADgB;AAE1BC,EAAAA,KAAK,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,MAAM,EAAE;AAAxB,GAFmB;AAG1BE,EAAAA,QAAQ,EAAE;AAAEJ,IAAAA,IAAI,EAAEC,MAAR;AAAgBI,IAAAA,QAAQ,EAAE;AAA1B,GAHgB;AAI1BC,EAAAA,KAAK,EAAE;AAAEC,IAAAA,GAAG,EAAE,MAAP;AAAeP,IAAAA,IAAI,EAAEF,iBAAOU,KAAP,CAAaC;AAAlC;AAJmB,CAAX,EAKhB;AACCC,EAAAA,UAAU,EAAE,IADb;AAECC,EAAAA,UAAU,EAAE;AAFb,CALgB,CAAnB;;AAUAd,UAAU,CAACe,OAAX,CAAmBC,eAAnB;AAAA,qEAAqC,iBAAMC,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACdC,kBAAOC,OAAP,CAAe,EAAf,CADc;;AAAA;AAC3BC,YAAAA,IAD2B;AAAA;AAAA,mBAEpBF,kBAAOG,IAAP,CAAYJ,KAAZ,EAAmBG,IAAnB,CAFoB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArC;;AAAA;AAAA;AAAA;AAAA;;AAKApB,UAAU,CAACe,OAAX,CAAmBO,eAAnB;AAAA,sEAAqC,kBAAML,KAAN,EAAaM,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACpBL,kBAAOM,OAAP,CAAeP,KAAf,EAAsBM,aAAtB,CADoB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArC;;AAAA;AAAA;AAAA;AAAA;;eAIe,qBAAM,MAAN,EAAcvB,UAAd,C","sourcesContent":["import { Schema, model } from 'mongoose'\r\nimport bcrypt from 'bcryptjs'\r\n\r\nconst userSchema = new Schema({\r\n    username: { type: String, unique: true },\r\n    email: { type: String, unique: true },\r\n    password: { type: String, required: true },\r\n    roles: { ref: \"Role\", type: Schema.Types.ObjectId }\r\n}, {\r\n    timestamps: true,\r\n    versionKey: false\r\n});\r\n\r\nuserSchema.statics.encryptPassword = async(clave) => {\r\n    const salt = await bcrypt.genSalt(10)\r\n    return await bcrypt.hash(clave, salt)\r\n}\r\n\r\nuserSchema.statics.comparePassword = async(clave, claveRecibida) => {\r\n    return await bcrypt.compare(clave, claveRecibida);\r\n}\r\n\r\nexport default model('User', userSchema);"],"file":"User.js"}