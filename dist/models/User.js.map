{"version":3,"sources":["../../src/models/User.js"],"names":["userSchema","Schema","username","type","String","unique","name","required","email","password","sucursal","direccion","pais","codigo_postal","about","roles","ref","Types","ObjectId","activo","timestamps","versionKey","statics","encryptPassword","clave","bcrypt","genSalt","salt","hash","comparePassword","claveRecibida","compare"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AAEA,IAAMA,UAAU,GAAG,IAAIC,gBAAJ,CAAW;AAC1BC,EAAAA,QAAQ,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,MAAM,EAAE;AAAxB,GADgB;AAE1BC,EAAAA,IAAI,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBG,IAAAA,QAAQ,EAAE;AAA1B,GAFoB;AAG1BC,EAAAA,KAAK,EAAE;AAAEL,IAAAA,IAAI,EAAEC;AAAR,GAHmB;AAI1BK,EAAAA,QAAQ,EAAE;AAAEN,IAAAA,IAAI,EAAEC,MAAR;AAAgBG,IAAAA,QAAQ,EAAE;AAA1B,GAJgB;AAK1BG,EAAAA,QAAQ,EAAE;AAAEP,IAAAA,IAAI,EAAEC,MAAR;AAAgBG,IAAAA,QAAQ,EAAE;AAA1B,GALgB;AAM1BI,EAAAA,SAAS,EAAE;AAAER,IAAAA,IAAI,EAAEC;AAAR,GANe;AAO1BQ,EAAAA,IAAI,EAAE;AAAET,IAAAA,IAAI,EAAEC;AAAR,GAPoB;AAQ1BS,EAAAA,aAAa,EAAE;AAAEV,IAAAA,IAAI,EAAEC;AAAR,GARW;AAS1BU,EAAAA,KAAK,EAAE;AAAEX,IAAAA,IAAI,EAAEC;AAAR,GATmB;AAU1BW,EAAAA,KAAK,EAAE;AAAEC,IAAAA,GAAG,EAAE,MAAP;AAAeb,IAAAA,IAAI,EAAEF,iBAAOgB,KAAP,CAAaC;AAAlC,GAVmB;AAW1BC,EAAAA,MAAM,EAAE;AAAEhB,IAAAA,IAAI,EAAEC;AAAR;AAXkB,CAAX,EAYhB;AACCgB,EAAAA,UAAU,EAAE,IADb;AAECC,EAAAA,UAAU,EAAE;AAFb,CAZgB,CAAnB;;AAiBArB,UAAU,CAACsB,OAAX,CAAmBC,eAAnB;AAAA,qFAAqC,iBAAMC,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACdC,kBAAOC,OAAP,CAAe,EAAf,CADc;;AAAA;AAC3BC,YAAAA,IAD2B;AAAA;AAAA,mBAEpBF,kBAAOG,IAAP,CAAYJ,KAAZ,EAAmBG,IAAnB,CAFoB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArC;;AAAA;AAAA;AAAA;AAAA;;AAKA3B,UAAU,CAACsB,OAAX,CAAmBO,eAAnB;AAAA,sFAAqC,kBAAML,KAAN,EAAaM,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACpBL,kBAAOM,OAAP,CAAeP,KAAf,EAAsBM,aAAtB,CADoB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArC;;AAAA;AAAA;AAAA;AAAA;;eAIe,qBAAM,MAAN,EAAc9B,UAAd,C","sourcesContent":["import { Schema, model } from 'mongoose'\r\nimport bcrypt from 'bcryptjs'\r\n\r\nconst userSchema = new Schema({\r\n    username: { type: String, unique: true },\r\n    name: { type: String, required: true },\r\n    email: { type: String },\r\n    password: { type: String, required: true },\r\n    sucursal: { type: String, required: true },\r\n    direccion: { type: String },\r\n    pais: { type: String },\r\n    codigo_postal: { type: String },\r\n    about: { type: String },\r\n    roles: { ref: \"Role\", type: Schema.Types.ObjectId },\r\n    activo: { type: String },\r\n}, {\r\n    timestamps: true,\r\n    versionKey: false\r\n});\r\n\r\nuserSchema.statics.encryptPassword = async(clave) => {\r\n    const salt = await bcrypt.genSalt(10)\r\n    return await bcrypt.hash(clave, salt)\r\n}\r\n\r\nuserSchema.statics.comparePassword = async(clave, claveRecibida) => {\r\n    return await bcrypt.compare(clave, claveRecibida);\r\n}\r\n\r\nexport default model('User', userSchema);"],"file":"User.js"}