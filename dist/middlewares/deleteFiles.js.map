{"version":3,"file":"deleteFiles.js","names":["delFiles","dir","path","resolve","nowDir","fs","readdirSync","setTimeout","a","length","unlinkFiles","join","console","log","unlinkSync"],"sources":["../../src/middlewares/deleteFiles.js"],"sourcesContent":["import fs from 'fs';\r\nimport path from 'path';\r\n\r\nexport function delFiles() {\r\n    var dir = path.resolve('src/uploads');\r\n    var nowDir = fs.readdirSync('src/uploads');\r\n\r\n    setTimeout(() => {\r\n        for (var a = 0; a < nowDir.length; a++) {\r\n            const unlinkFiles = path.join(dir + '/' + nowDir[a]);\r\n            console.log(unlinkFiles);\r\n            fs.unlinkSync(unlinkFiles);\r\n        }\r\n    }, 8000);\r\n}"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEO,SAASA,QAAT,GAAoB;EACvB,IAAIC,GAAG,GAAGC,aAAA,CAAKC,OAAL,CAAa,aAAb,CAAV;;EACA,IAAIC,MAAM,GAAGC,WAAA,CAAGC,WAAH,CAAe,aAAf,CAAb;;EAEAC,UAAU,CAAC,YAAM;IACb,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,MAAM,CAACK,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;MACpC,IAAME,WAAW,GAAGR,aAAA,CAAKS,IAAL,CAAUV,GAAG,GAAG,GAAN,GAAYG,MAAM,CAACI,CAAD,CAA5B,CAApB;;MACAI,OAAO,CAACC,GAAR,CAAYH,WAAZ;;MACAL,WAAA,CAAGS,UAAH,CAAcJ,WAAd;IACH;EACJ,CANS,EAMP,IANO,CAAV;AAOH"}